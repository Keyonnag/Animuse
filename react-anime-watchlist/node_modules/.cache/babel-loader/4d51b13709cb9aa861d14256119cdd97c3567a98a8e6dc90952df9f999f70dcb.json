{"ast":null,"code":"var _jsxFileName = \"/Users/keyonnagarfine/Desktop/MCSP18/React/react-mvp-frontend/react-anime-watchlist/src/components/WatchList.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst api_url = 'https://anime-watchlist-app-server.onrender.com';\nfunction WatchList(_ref) {\n  _s();\n  let {\n    watchList,\n    setWatchList\n  } = _ref;\n  const [updatedReview, setUpdatedReview] = useState('');\n  const handleDelete = async id => {\n    try {\n      const response = await fetch(api_url + '/watchlist/' + id, {\n        method: 'DELETE'\n      });\n      if (response.ok) {\n        setWatchList(prevWatchList => prevWatchList.filter(anime => anime.id !== id));\n      }\n    } catch (error) {\n      console.error(`Error deleting from watchlist: ${error.message}`);\n    }\n  };\n  const handleUpdateReview = async (id, anime) => {\n    try {\n      const response = await fetch(api_url + '/watchlist/' + id, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          review: updatedReview\n        })\n      });\n      const data = await response.json();\n      setWatchList(prevWatchList => prevWatchList.map(anime => anime.id === id ? data : anime));\n    } catch (error) {\n      console.error(`Error updating review: ${error.message}`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row row-cols-1 row-cols-md-3 g-4\",\n      children: watchList.map(anime => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card h-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: anime.image_url,\n            className: \"card-img-top\",\n            alt: anime.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body d-flex flex-column\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"card-title\",\n              children: anime.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text\",\n              children: anime.synopsis\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text mb-0\",\n              children: [\"Episodes: \", anime.episodes, \" | Score: \", anime.score]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              className: \"mt-auto mb-3\",\n              onSubmit: event => {\n                event.preventDefault();\n                handleUpdateReview(anime.id, anime);\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  placeholder: \"Add a review\",\n                  value: updatedReview,\n                  onChange: event => setUpdatedReview(event.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-outline-secondary\",\n                  type: \"submit\",\n                  children: \"Update\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-danger\",\n              onClick: () => handleDelete(anime.id),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 7\n        }, this)\n      }, anime.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 6\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 3\n  }, this);\n}\n_s(WatchList, \"RR4bAJweaKlE+RVMK8acg+UzAHM=\");\n_c = WatchList;\nexport default WatchList;\nvar _c;\n$RefreshReg$(_c, \"WatchList\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","api_url","WatchList","_ref","_s","watchList","setWatchList","updatedReview","setUpdatedReview","handleDelete","id","response","fetch","method","ok","prevWatchList","filter","anime","error","console","message","handleUpdateReview","headers","body","JSON","stringify","review","data","json","map","className","children","src","image_url","alt","title","fileName","_jsxFileName","lineNumber","columnNumber","synopsis","episodes","score","onSubmit","event","preventDefault","type","placeholder","value","onChange","target","onClick","_c","$RefreshReg$"],"sources":["/Users/keyonnagarfine/Desktop/MCSP18/React/react-mvp-frontend/react-anime-watchlist/src/components/WatchList.js"],"sourcesContent":["import React, { useState } from 'react';\n\nconst api_url = 'https://anime-watchlist-app-server.onrender.com';\n\nfunction WatchList({ watchList, setWatchList }) {\n\tconst [updatedReview, setUpdatedReview] = useState('');\n\n\tconst handleDelete = async (id) => {\n\t\ttry {\n\t\t\tconst response = await fetch(api_url + '/watchlist/' + id, {\n\t\t\t\tmethod: 'DELETE',\n\t\t\t});\n\t\t\tif (response.ok) {\n\t\t\t\tsetWatchList((prevWatchList) =>\n\t\t\t\t\tprevWatchList.filter((anime) => anime.id !== id)\n\t\t\t\t);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(`Error deleting from watchlist: ${error.message}`);\n\t\t}\n\t};\n\n\tconst handleUpdateReview = async (id, anime) => {\n\t\ttry {\n\t\t\tconst response = await fetch(api_url + '/watchlist/' + id, {\n\t\t\t\tmethod: 'PUT',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\treview: updatedReview,\n\t\t\t\t}),\n\t\t\t});\n\t\t\tconst data = await response.json();\n\t\t\tsetWatchList((prevWatchList) =>\n\t\t\t\tprevWatchList.map((anime) => (anime.id === id ? data : anime))\n\t\t\t);\n\t\t} catch (error) {\n\t\t\tconsole.error(`Error updating review: ${error.message}`);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className='container mt-4'>\n\t\t\t<div className='row row-cols-1 row-cols-md-3 g-4'>\n\t\t\t\t{watchList.map((anime) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={anime.id}\n\t\t\t\t\t\tclassName='col'\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className='card h-100'>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={anime.image_url}\n\t\t\t\t\t\t\t\tclassName='card-img-top'\n\t\t\t\t\t\t\t\talt={anime.title}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className='card-body d-flex flex-column'>\n\t\t\t\t\t\t\t\t<h5 className='card-title'>{anime.title}</h5>\n\t\t\t\t\t\t\t\t<p className='card-text'>{anime.synopsis}</p>\n\t\t\t\t\t\t\t\t<p className='card-text mb-0'>\n\t\t\t\t\t\t\t\t\tEpisodes: {anime.episodes} | Score: {anime.score}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<form\n\t\t\t\t\t\t\t\t\tclassName='mt-auto mb-3'\n\t\t\t\t\t\t\t\t\tonSubmit={(event) => {\n\t\t\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\t\t\thandleUpdateReview(anime.id, anime);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className='input-group'>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Add a review'\n\t\t\t\t\t\t\t\t\t\t\tvalue={updatedReview}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => setUpdatedReview(event.target.value)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-outline-secondary'\n\t\t\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tUpdate\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn btn-danger'\n\t\t\t\t\t\t\t\t\tonClick={() => handleDelete(anime.id)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default WatchList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}