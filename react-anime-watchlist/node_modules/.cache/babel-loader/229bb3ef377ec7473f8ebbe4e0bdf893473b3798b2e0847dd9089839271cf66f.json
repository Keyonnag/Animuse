{"ast":null,"code":"var _jsxFileName = \"/Users/keyonnagarfine/Desktop/MCSP18/React/react-mvp-frontend/react-anime-watchlist/src/components/WatchList.js\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst api_url = 'https://anime-watchlist-app-server.onrender.com';\nfunction WatchList(_ref) {\n  let {\n    watchList,\n    setWatchList\n  } = _ref;\n  const handleDelete = async id => {\n    try {\n      const response = await fetch(api_url + '/watchlist/' + id, {\n        method: 'DELETE'\n      });\n      if (response.ok) {\n        setWatchList(prevWatchList => prevWatchList.filter(anime => anime.id !== id));\n      }\n    } catch (error) {\n      console.error(`Error deleting from watchlist: ${error.message}`);\n    }\n  };\n  const handleUpdateReview = async (id, newReview) => {\n    const updateQuery = `\n      UPDATE watchlist\n      SET review = $1\n      WHERE id = $2\n      RETURNING *;\n    `;\n    try {\n      const response = await fetch(api_url + '/watchlist/' + id, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          review: newReview\n        })\n      });\n      const data = await response.json();\n      setWatchList(prevWatchList => prevWatchList.map(anime => anime.id === id ? data : anime));\n    } catch (error) {\n      console.error(`Error updating review: ${error.message}`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row row-cols-1 row-cols-md-3 g-4\",\n      children: watchList.map(anime => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card h-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: anime.image_url,\n            className: \"card-img-top\",\n            alt: anime.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body d-flex flex-column\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"card-title\",\n              children: anime.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text\",\n              children: anime.synopsis\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text mb-0\",\n              children: [\"Episodes: \", anime.episodes, \" | Score: \", anime.score]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              className: \"mt-auto mb-3\",\n              onSubmit: event => {\n                event.preventDefault();\n                const newReview = event.target.review.value;\n                handleUpdateReview(anime.id, newReview);\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  placeholder: \"Add a review\",\n                  name: \"review\",\n                  defaultValue: anime.review\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-outline-secondary\",\n                  type: \"submit\",\n                  children: \"Update\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-danger\",\n              onClick: () => handleDelete(anime.id),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 7\n        }, this)\n      }, anime.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 6\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 3\n  }, this);\n}\n_c = WatchList;\nexport default WatchList;\nvar _c;\n$RefreshReg$(_c, \"WatchList\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","api_url","WatchList","_ref","watchList","setWatchList","handleDelete","id","response","fetch","method","ok","prevWatchList","filter","anime","error","console","message","handleUpdateReview","newReview","updateQuery","headers","body","JSON","stringify","review","data","json","map","className","children","src","image_url","alt","title","fileName","_jsxFileName","lineNumber","columnNumber","synopsis","episodes","score","onSubmit","event","preventDefault","target","value","type","placeholder","name","defaultValue","onClick","_c","$RefreshReg$"],"sources":["/Users/keyonnagarfine/Desktop/MCSP18/React/react-mvp-frontend/react-anime-watchlist/src/components/WatchList.js"],"sourcesContent":["import React from 'react';\n\nconst api_url = 'https://anime-watchlist-app-server.onrender.com';\n\nfunction WatchList({ watchList, setWatchList }) {\n\tconst handleDelete = async (id) => {\n\t\ttry {\n\t\t\tconst response = await fetch(api_url + '/watchlist/' + id, {\n\t\t\t\tmethod: 'DELETE',\n\t\t\t});\n\t\t\tif (response.ok) {\n\t\t\t\tsetWatchList((prevWatchList) =>\n\t\t\t\t\tprevWatchList.filter((anime) => anime.id !== id)\n\t\t\t\t);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(`Error deleting from watchlist: ${error.message}`);\n\t\t}\n\t};\n\n\tconst handleUpdateReview = async (id, newReview) => {\n\t\tconst updateQuery = `\n      UPDATE watchlist\n      SET review = $1\n      WHERE id = $2\n      RETURNING *;\n    `;\n\t\ttry {\n\t\t\tconst response = await fetch(api_url + '/watchlist/' + id, {\n\t\t\t\tmethod: 'PUT',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\treview: newReview,\n\t\t\t\t}),\n\t\t\t});\n\t\t\tconst data = await response.json();\n\t\t\tsetWatchList((prevWatchList) =>\n\t\t\t\tprevWatchList.map((anime) => (anime.id === id ? data : anime))\n\t\t\t);\n\t\t} catch (error) {\n\t\t\tconsole.error(`Error updating review: ${error.message}`);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className='container mt-4'>\n\t\t\t<div className='row row-cols-1 row-cols-md-3 g-4'>\n\t\t\t\t{watchList.map((anime) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={anime.id}\n\t\t\t\t\t\tclassName='col'\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className='card h-100'>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={anime.image_url}\n\t\t\t\t\t\t\t\tclassName='card-img-top'\n\t\t\t\t\t\t\t\talt={anime.title}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className='card-body d-flex flex-column'>\n\t\t\t\t\t\t\t\t<h5 className='card-title'>{anime.title}</h5>\n\t\t\t\t\t\t\t\t<p className='card-text'>{anime.synopsis}</p>\n\t\t\t\t\t\t\t\t<p className='card-text mb-0'>\n\t\t\t\t\t\t\t\t\tEpisodes: {anime.episodes} | Score: {anime.score}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<form\n\t\t\t\t\t\t\t\t\tclassName='mt-auto mb-3'\n\t\t\t\t\t\t\t\t\tonSubmit={(event) => {\n\t\t\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\t\t\tconst newReview = event.target.review.value;\n\t\t\t\t\t\t\t\t\t\thandleUpdateReview(anime.id, newReview);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className='input-group'>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Add a review'\n\t\t\t\t\t\t\t\t\t\t\tname='review'\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={anime.review}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-outline-secondary'\n\t\t\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tUpdate\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn btn-danger'\n\t\t\t\t\t\t\t\t\tonClick={() => handleDelete(anime.id)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default WatchList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}