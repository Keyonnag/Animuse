{"ast":null,"code":"var _jsxFileName = \"/Users/keyonnagarfine/Desktop/MCSP18/React/react-mvp-frontend/react-anime-watchlist/src/components/WatchList.js\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst api_url = 'https://anime-watchlist-app-server.onrender.com';\nfunction WatchList(_ref) {\n  let {\n    watchList,\n    setWatchList\n  } = _ref;\n  const handleDelete = async id => {\n    try {\n      const response = await fetch(api_url + '/watchlist/' + id, {\n        method: 'DELETE'\n      });\n      if (response.ok) {\n        setWatchList(prevWatchList => prevWatchList.filter(anime => anime.id !== id));\n      }\n    } catch (error) {\n      console.error(`Error deleting from watchlist: ${error.message}`);\n    }\n  };\n  const handleUpdateReview = async (id, newReview, anime) => {\n    console.log(anime.image_url);\n    try {\n      const response = await fetch(api_url + '/watchlist/' + id, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          title: anime.title,\n          image_url: anime.image_url,\n          airing: anime.airing,\n          synopsis: anime.synopsis,\n          episodes: anime.episodes,\n          score: anime.score,\n          review: newReview\n        })\n      });\n      const data = await response.json();\n      setWatchList(prevWatchList => prevWatchList.map(anime => anime.id === id ? data : anime));\n      console.log(prevWatchList);\n    } catch (error) {\n      console.error(`Error updating review: ${error.message}`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row row-cols-1 row-cols-md-3 g-4\",\n      children: watchList.map(anime => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card h-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: anime.image_url,\n            className: \"card-img-top\",\n            alt: anime.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body d-flex flex-column\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"card-title\",\n              children: anime.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text\",\n              children: anime.synopsis\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text mb-0\",\n              children: [\"Episodes: \", anime.episodes, \" | Score: \", anime.score]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              className: \"mt-auto mb-3\",\n              onSubmit: event => {\n                event.preventDefault();\n                const newReview = event.target.review.value;\n                handleUpdateReview(anime.id, newReview, anime);\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  placeholder: \"Add a review\",\n                  name: \"review\",\n                  defaultValue: anime.review\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-outline-secondary\",\n                  type: \"submit\",\n                  children: \"Update\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-danger\",\n              onClick: () => handleDelete(anime.id),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 7\n        }, this)\n      }, anime.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 6\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 3\n  }, this);\n}\n_c = WatchList;\nexport default WatchList;\nvar _c;\n$RefreshReg$(_c, \"WatchList\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","api_url","WatchList","_ref","watchList","setWatchList","handleDelete","id","response","fetch","method","ok","prevWatchList","filter","anime","error","console","message","handleUpdateReview","newReview","log","image_url","headers","body","JSON","stringify","title","airing","synopsis","episodes","score","review","data","json","map","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","event","preventDefault","target","value","type","placeholder","name","defaultValue","onClick","_c","$RefreshReg$"],"sources":["/Users/keyonnagarfine/Desktop/MCSP18/React/react-mvp-frontend/react-anime-watchlist/src/components/WatchList.js"],"sourcesContent":["import React from 'react';\n\nconst api_url = 'https://anime-watchlist-app-server.onrender.com';\n\nfunction WatchList({ watchList, setWatchList }) {\n\tconst handleDelete = async (id) => {\n\t\ttry {\n\t\t\tconst response = await fetch(api_url + '/watchlist/' + id, {\n\t\t\t\tmethod: 'DELETE',\n\t\t\t});\n\t\t\tif (response.ok) {\n\t\t\t\tsetWatchList((prevWatchList) =>\n\t\t\t\t\tprevWatchList.filter((anime) => anime.id !== id)\n\t\t\t\t);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(`Error deleting from watchlist: ${error.message}`);\n\t\t}\n\t};\n\n\tconst handleUpdateReview = async (id, newReview, anime) => {\n\t\tconsole.log(anime.image_url);\n\t\ttry {\n\t\t\tconst response = await fetch(api_url + '/watchlist/' + id, {\n\t\t\t\tmethod: 'PUT',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\ttitle: anime.title,\n\t\t\t\t\timage_url: anime.image_url,\n\t\t\t\t\tairing: anime.airing,\n\t\t\t\t\tsynopsis: anime.synopsis,\n\t\t\t\t\tepisodes: anime.episodes,\n\t\t\t\t\tscore: anime.score,\n\t\t\t\t\treview: newReview,\n\t\t\t\t}),\n\t\t\t});\n\t\t\tconst data = await response.json();\n\t\t\tsetWatchList((prevWatchList) =>\n\t\t\t\tprevWatchList.map((anime) => (anime.id === id ? data : anime))\n\t\t\t);\n\t\t\tconsole.log(prevWatchList);\n\t\t} catch (error) {\n\t\t\tconsole.error(`Error updating review: ${error.message}`);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className='container mt-4'>\n\t\t\t<div className='row row-cols-1 row-cols-md-3 g-4'>\n\t\t\t\t{watchList.map((anime) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={anime.id}\n\t\t\t\t\t\tclassName='col'\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className='card h-100'>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={anime.image_url}\n\t\t\t\t\t\t\t\tclassName='card-img-top'\n\t\t\t\t\t\t\t\talt={anime.title}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className='card-body d-flex flex-column'>\n\t\t\t\t\t\t\t\t<h5 className='card-title'>{anime.title}</h5>\n\t\t\t\t\t\t\t\t<p className='card-text'>{anime.synopsis}</p>\n\t\t\t\t\t\t\t\t<p className='card-text mb-0'>\n\t\t\t\t\t\t\t\t\tEpisodes: {anime.episodes} | Score: {anime.score}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<form\n\t\t\t\t\t\t\t\t\tclassName='mt-auto mb-3'\n\t\t\t\t\t\t\t\t\tonSubmit={(event) => {\n\t\t\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\t\t\tconst newReview = event.target.review.value;\n\t\t\t\t\t\t\t\t\t\thandleUpdateReview(anime.id, newReview, anime);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className='input-group'>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Add a review'\n\t\t\t\t\t\t\t\t\t\t\tname='review'\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={anime.review}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-outline-secondary'\n\t\t\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tUpdate\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn btn-danger'\n\t\t\t\t\t\t\t\t\tonClick={() => handleDelete(anime.id)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default WatchList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}