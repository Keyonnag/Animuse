{"ast":null,"code":"var _jsxFileName = \"/Users/keyonnagarfine/Desktop/MCSP18/React/react-mvp-frontend/react-anime-watchlist/src/components/WatchList.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst api_url = 'https://anime-watchlist-app-server.onrender.com';\nfunction WatchList(_ref) {\n  _s();\n  let {\n    watchList,\n    setWatchList\n  } = _ref;\n  const [updatedReview, setUpdatedReview] = useState('');\n  const handleDelete = async id => {\n    try {\n      const response = await fetch(api_url + '/watchlist/' + id, {\n        method: 'DELETE'\n      });\n      if (response.ok) {\n        setWatchList(prevWatchList => prevWatchList.filter(anime => anime.id !== id));\n      }\n    } catch (error) {\n      console.error(`Error deleting from watchlist: ${error.message}`);\n    }\n  };\n  const handleUpdateReview = async (id, anime) => {\n    try {\n      const response = await fetch(api_url + '/watchlist/' + id, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          title: anime.title,\n          image_url: anime.image_url,\n          airing: anime.airing,\n          synopsis: anime.synopsis,\n          episodes: anime.episodes,\n          score: anime.score,\n          review: updatedReview\n        })\n      });\n      const data = await response.json();\n      setWatchList(prevWatchList => prevWatchList.map(anime => anime.id === id ? data : anime));\n    } catch (error) {\n      console.error(`Error updating review: ${error.message}`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row row-cols-1 row-cols-md-3 g-4\",\n      children: watchList.map(anime => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card h-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: anime.image_url,\n            className: \"card-img-top\",\n            alt: anime.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body d-flex flex-column\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"card-title\",\n              children: anime.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text\",\n              children: anime.synopsis\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text mb-0\",\n              children: [\"Episodes: \", anime.episodes, \" | Score: \", anime.score]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              className: \"mt-auto mb-3\",\n              onSubmit: event => {\n                event.preventDefault();\n                handleUpdateReview(anime.id, anime);\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  placeholder: \"Add a review\",\n                  value: updatedReview,\n                  onChange: event => setUpdatedReview(event.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-outline-secondary\",\n                  type: \"submit\",\n                  children: \"Update\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-danger\",\n              onClick: () => handleDelete(anime.id),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 7\n        }, this)\n      }, anime.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 6\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 3\n  }, this);\n}\n_s(WatchList, \"RR4bAJweaKlE+RVMK8acg+UzAHM=\");\n_c = WatchList;\nexport default WatchList;\nvar _c;\n$RefreshReg$(_c, \"WatchList\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","api_url","WatchList","_ref","_s","watchList","setWatchList","updatedReview","setUpdatedReview","handleDelete","id","response","fetch","method","ok","prevWatchList","filter","anime","error","console","message","handleUpdateReview","headers","body","JSON","stringify","title","image_url","airing","synopsis","episodes","score","review","data","json","map","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","event","preventDefault","type","placeholder","value","onChange","target","onClick","_c","$RefreshReg$"],"sources":["/Users/keyonnagarfine/Desktop/MCSP18/React/react-mvp-frontend/react-anime-watchlist/src/components/WatchList.js"],"sourcesContent":["import React, { useState } from 'react';\n\nconst api_url = 'https://anime-watchlist-app-server.onrender.com';\n\nfunction WatchList({ watchList, setWatchList }) {\n\tconst [updatedReview, setUpdatedReview] = useState('');\n\n\tconst handleDelete = async (id) => {\n\t\ttry {\n\t\t\tconst response = await fetch(api_url + '/watchlist/' + id, {\n\t\t\t\tmethod: 'DELETE',\n\t\t\t});\n\t\t\tif (response.ok) {\n\t\t\t\tsetWatchList((prevWatchList) =>\n\t\t\t\t\tprevWatchList.filter((anime) => anime.id !== id)\n\t\t\t\t);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(`Error deleting from watchlist: ${error.message}`);\n\t\t}\n\t};\n\n\tconst handleUpdateReview = async (id, anime) => {\n\t\ttry {\n\t\t\tconst response = await fetch(api_url + '/watchlist/' + id, {\n\t\t\t\tmethod: 'PUT',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\ttitle: anime.title,\n\t\t\t\t\timage_url: anime.image_url,\n\t\t\t\t\tairing: anime.airing,\n\t\t\t\t\tsynopsis: anime.synopsis,\n\t\t\t\t\tepisodes: anime.episodes,\n\t\t\t\t\tscore: anime.score,\n\t\t\t\t\treview: updatedReview,\n\t\t\t\t}),\n\t\t\t});\n\t\t\tconst data = await response.json();\n\t\t\tsetWatchList((prevWatchList) =>\n\t\t\t\tprevWatchList.map((anime) => (anime.id === id ? data : anime))\n\t\t\t);\n\t\t} catch (error) {\n\t\t\tconsole.error(`Error updating review: ${error.message}`);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className='container mt-4'>\n\t\t\t<div className='row row-cols-1 row-cols-md-3 g-4'>\n\t\t\t\t{watchList.map((anime) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={anime.id}\n\t\t\t\t\t\tclassName='col'\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className='card h-100'>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={anime.image_url}\n\t\t\t\t\t\t\t\tclassName='card-img-top'\n\t\t\t\t\t\t\t\talt={anime.title}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className='card-body d-flex flex-column'>\n\t\t\t\t\t\t\t\t<h5 className='card-title'>{anime.title}</h5>\n\t\t\t\t\t\t\t\t<p className='card-text'>{anime.synopsis}</p>\n\t\t\t\t\t\t\t\t<p className='card-text mb-0'>\n\t\t\t\t\t\t\t\t\tEpisodes: {anime.episodes} | Score: {anime.score}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<form\n\t\t\t\t\t\t\t\t\tclassName='mt-auto mb-3'\n\t\t\t\t\t\t\t\t\tonSubmit={(event) => {\n\t\t\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\t\t\thandleUpdateReview(anime.id, anime);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className='input-group'>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Add a review'\n\t\t\t\t\t\t\t\t\t\t\tvalue={updatedReview}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => setUpdatedReview(event.target.value)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-outline-secondary'\n\t\t\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tUpdate\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn btn-danger'\n\t\t\t\t\t\t\t\t\tonClick={() => handleDelete(anime.id)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default WatchList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}